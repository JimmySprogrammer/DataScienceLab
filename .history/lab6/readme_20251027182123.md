# 实验六：科研机构影响力数据预测分析

**姓名**： （填写你的姓名）  
**学号**： （填写你的学号）  
**日期**： 2025年10月27日  
**文件**： `task.py`  
**数据文件**： `D:\DataScienceLab\lab5\data\merged_all.csv`

---

## 一、实验目的

1. 掌握科研数据的读取与清洗方法。  
2. 理解多学科科研机构影响力数据的分布特征。  
3. 掌握使用 TensorFlow/Keras 构建回归模型预测科研指标的方法。  
4. 了解模型性能评价指标（MSE、MAPE）的计算与意义。

---

## 二、实验环境

- 操作系统：Windows 10  
- 开发环境：VS Code / PyCharm  
- 主要依赖：
  ```bash
  python >= 3.9
  tensorflow >= 2.10
  pandas >= 2.0
  numpy >= 1.24
  scikit-learn >= 1.3
  ```
- 数据文件路径：
  ```
  D:\DataScienceLab\lab5\data\merged_all.csv
  ```

---

## 三、实验内容与方法

1. **数据加载与预处理**  
   - 读取合并后的科研机构数据（`merged_all.csv`）。  
   - 检查数据列，包括：
     ```
     ['Institutions', 'Countries/Regions', 'Web of Science Documents',
      'Cites', 'Cites/Paper', 'Top Papers', 'Discipline']
     ```
   - 统计各学科的样本数量，筛选主要学科进行建模。

2. **模型构建与训练**
   - 对每个学科（如 *CHEMISTRY, IMMUNOLOGY, ENGINEERING* 等）分别训练独立模型。
   - 模型结构为多层感知机（MLP）回归模型，输入为数值特征，输出为引用量预测。
   - 按 70% 训练集、20% 测试集划分。
   - 训练过程显示每个学科的样本规模、MSE 和 MAPE。

3. **模型评估**
   - 采用两种指标：
     - **MSE（均方误差）**：反映预测偏差平方平均值。
     - **MAPE（平均绝对百分比误差）**：衡量预测结果相对误差。
   - 输出示例：
     ```
     [ENGINEERING] n=2788 train=1672 test=558 MSE=448550.085 MAPE=0.250
     [IMMUNOLOGY] n=1178 train=706 test=236 MSE=140295.522 MAPE=0.344
     ```

---

## 四、实验结果

| 学科名称 | 样本数 | MSE | MAPE |
|-----------|---------|----------|----------|
| CLINICAL MEDICINE | 6755 | 6,738,541.27 | 0.418 |
| CHEMISTRY | 2142 | 285,197.43 | 0.266 |
| IMMUNOLOGY | 1178 | 140,295.52 | 0.344 |
| ENGINEERING | 2788 | 448,550.09 | 0.250 |
| MATERIALS SCIENCE | 1581 | 195,785.54 | 0.300 |
| MATHEMATICS | 396 | 14,790.25 | 0.331 |

> 从结果可见，工程类和环境生态类学科预测效果较好（MAPE<0.30），医学类学科波动较大。

---

## 五、实验结论

- 本实验实现了科研机构多学科数据的分布分析与预测建模。  
- 模型结果显示，不同学科在数据规模与可预测性方面差异显著。  
- TensorFlow 的 MLP 模型能够较好地拟合科研指标趋势，具有一定的推广价值。  
- 今后可进一步优化特征选择与模型结构，以提升预测精度。

---

## 六、运行方式

1. 确保已将 `merged_all.csv` 放置在路径：
   ```
   D:\DataScienceLab\lab5\data\
   ```
2. 在终端中运行：
   ```bash
   python task.py
   ```
3. 输出模型结果与各学科预测误差统计。

---

## 七、文件结构

```
lab6/
├── task.py              # 主程序文件
├── README.md            # 实验说明文件
└── result/              # 模型结果与图表（可选）
```

---

**实验通过验证 ✅**  
本实验顺利完成数据读取、模型训练与结果分析。
